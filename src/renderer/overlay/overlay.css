/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* 
 * CRITICAL: html and body must be transparent for the overlay to work.
 * The background is fully transparent so you can see through to the desktop.
 */
html,
body {
    background: transparent !important;
    overflow: hidden;
    width: 100%;
    height: 100%;
    font-family:
        -apple-system,
        BlinkMacSystemFont,
        'Segoe UI',
        Roboto,
        Oxygen,
        Ubuntu,
        sans-serif;
}

/* 
 * Position the sprite canvas at the bottom center of the overlay window.
 * Uses absolute positioning to anchor to the bottom edge.
 */
#kika-sprite {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);

    /* Ensure transparency is preserved */
    background: transparent;

    /* Optional: add a subtle debug border (remove in production) */
    /* border: 1px dashed rgba(233, 69, 96, 0.5); */
}

/* 
 * Make the canvas area draggable for repositioning the overlay.
 * Remove this if you want full click-through everywhere.
 */
/*
#kika-sprite {
  -webkit-app-region: drag;
  app-region: drag;
}
*/

/* ============================================
 * SETTINGS BUTTON
 * Hidden by default, appears after 1s hover
 * ============================================ */
.settings-btn {
    position: absolute;
    z-index: 1000;
    top: 8px;
    right: 8px;
    width: 36px;
    height: 36px;

    /* Hidden by default */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;

    /* Styling */
    background: rgba(40, 40, 60, 0.85);
    border: 1px solid rgba(124, 106, 239, 0.4);
    border-radius: 8px;
    color: #e0e0e0;
    cursor: pointer;

    /* Layout */
    display: flex;
    align-items: center;
    justify-content: center;

    /* Animation */
    transition: opacity 0.2s ease, visibility 0.2s ease,
        background 0.15s ease, transform 0.15s ease;
}

.settings-btn.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.settings-btn:hover {
    background: rgba(124, 106, 239, 0.6);
    transform: scale(1.05);
}

.settings-btn:active {
    transform: scale(0.95);
}

.settings-btn svg {
    transition: transform 0.3s ease;
}

.settings-btn:hover svg {
    transform: rotate(45deg);
}

/* ============================================
 * DRAG BEHAVIOR
 * Applied dynamically when overlay is draggable
 * ============================================ */

/* Drag region - enabled dynamically when draggable */
.drag-enabled {
    -webkit-app-region: drag;
    app-region: drag;
    cursor: move;
}

/* Interactive elements must not be draggable */
.settings-btn {
    -webkit-app-region: no-drag;
    app-region: no-drag;
}

/* Locked state visual feedback */
.drag-locked {
    cursor: not-allowed;
}

/* When locked, show visual indicator on drag region */
.drag-locked::after {
    content: '';
    position: fixed;
    top: 8px;
    left: 8px;
    width: 24px;
    height: 24px;
    background: rgba(255, 100, 100, 0.4);
    border-radius: 4px;
    pointer-events: none;
}